(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(9),r=n.n(a),i=(n(14),n(2)),o=(n(15),n(16),n(0)),l=function(e){var t=e.condition,n=e.children;return Object(o.jsx)(o.Fragment,{children:t&&n})},j=n(3),u=n.n(j),b=n(4),d="http://localhost:8080",h=function(){var e=Object(b.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+t,{method:"GET",signal:n,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,fetch(d+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(e){var t=e.setMainState,n=e.setPage,s=e.setUser,a=Object(c.useState)(null),r=Object(i.a)(a,2),l=r[0],j=r[1],d=Object(c.useState)(null),h=Object(i.a)(d,2),m=h[0],x=h[1],p=Object(c.useState)(null),f=Object(i.a)(p,2),g=f[0],v=f[1],N=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/user/user_login",{name:l,password:m});case 2:t=e.sent,console.log(!t.fail),t.fail?(console.log("hej"),v(t.fail)):(s(t),n("dashboard"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("section",{className:"flex login-top",children:Object(o.jsx)("div",{className:"glimra-logo"})}),Object(o.jsxs)("section",{className:"flex login-container",children:[Object(o.jsx)("h2",{className:"login-welcome",children:"V\xe4lkommen!"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"login-text",htmlFor:"namn",children:"namn:"}),Object(o.jsx)("input",{className:"login-input",type:"text",name:"",placeholder:"namn",onChange:function(e){return j(e.target.value)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"login-text",htmlFor:"password",children:"l\xf6senord:"}),Object(o.jsx)("input",{className:"login-input",type:"password",name:"",placeholder:"l\xf6senord",onChange:function(e){return x(e.target.value)}})]}),Object(o.jsx)("div",{children:g}),Object(o.jsx)("button",{className:"login-btn",onClick:function(){return N()},children:"logga in"}),Object(o.jsxs)("div",{className:"login-create-user",children:["Ny anv\xe4ndare?"," ",Object(o.jsx)("span",{className:"create-user-link",onClick:function(){return t("signup")},children:"skapa konto"})]}),Object(o.jsx)("div",{className:"login-tree"})]})]})},x=function(e){var t=e.setMainState,n=e.setPage,s=e.setUser,a=Object(c.useState)(null),r=Object(i.a)(a,2),l=r[0],j=r[1],d=Object(c.useState)("test@test.com"),h=Object(i.a)(d,2),m=h[0],x=(h[1],Object(c.useState)(0)),p=Object(i.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(null),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(null),k=Object(i.a)(C,2),y=(k[0],k[1],Object(c.useState)(null)),_=Object(i.a)(y,2),F=_[0],P=_[1],T=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/user/create_user",{name:l,email:m,type:f,password:w});case 2:t=e.sent,console.log(t),t.fail?(console.log("hej"),P(t.fail)):(s(t.user),n("dashboard"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("section",{className:"flex login-top",children:Object(o.jsx)("div",{className:"glimra-logo"})}),Object(o.jsxs)("section",{className:"flex login-container",children:[Object(o.jsxs)("section",{className:"flex JC-SB heading",children:[Object(o.jsx)("span",{className:"back-arrow login-welcome",onClick:function(){return t("login")},children:Object(o.jsx)("i",{class:"fas fa-arrow-left"})}),Object(o.jsx)("span",{className:"login-welcome",children:"Skapa konto"}),Object(o.jsx)("span",{})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{className:"login-text",htmlFor:"",children:["name:"," "]}),Object(o.jsx)("input",{className:"login-input",type:"text",name:"",placeholder:"name",onChange:function(e){return j(e.target.value)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{className:"login-text",htmlFor:"password",children:["password:"," "]}),Object(o.jsx)("input",{className:"login-input",type:"password",name:"",placeholder:"password",onChange:function(e){return S(e.target.value)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"login-text",htmlFor:"",children:"Deltagare"})," ",Object(o.jsx)("input",{type:"checkbox",name:"",onClick:function(){return g(0)}}),Object(o.jsx)("label",{className:"login-text",htmlFor:"",children:"Personal"})," ",Object(o.jsx)("input",{type:"checkbox",name:"",onClick:function(){return g(1)}})]}),Object(o.jsx)("div",{className:"user-img-upload",children:Object(o.jsxs)("section",{className:"flex",children:[Object(o.jsxs)("label",{className:"login-text",htmlFor:"profilepic",children:["Profilbild:"," "]}),Object(o.jsx)("input",{className:"file-upload",name:"profilepic",type:"file",src:"",alt:"",onChange:function(e){return console.log(e.target.value)}})]})}),Object(o.jsx)("div",{children:F}),Object(o.jsx)("button",{className:"login-btn",onClick:function(){return T()},children:"Skapa"})]})]})},p=function(e){e.theme,e.setTheme;var t=e.setPage,n=e.setUser,s=Object(c.useState)("login"),a=Object(i.a)(s,2),r=a[0],j=a[1],u=Object(c.useState)(!1),b=Object(i.a)(u,2),d=b[0];b[1];return d?Object(o.jsx)("h3",{children:"loading .."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{condition:"login"===r,children:Object(o.jsx)(m,{setMainState:j,setPage:t,setUser:n})}),Object(o.jsx)(l,{condition:"signup"===r,children:Object(o.jsx)(x,{setMainState:j,setPage:t,setUser:n})})]})},f=function(e){var t=e.split("-");return t[1].split(" ")[0]===(new Date).getFullYear().toString().slice(2)?t[0]+" "+t[1].split(" ")[1]:e},g=function(){var e=(new Date).toLocaleDateString().split("-"),t=e[0].at(-2)+e[0].at(-1);if(0===e[1].at(0)&&0===e[2].at(0)){var n=e[2],c=e[1];e="".concat(n[1],"/").concat(c[1])}else if(0===e[1].at(0)){var s=e[1];e="".concat(e[2],"/").concat(s[1])}else if(0===e[2].at(0)){var a=e[2];e="".concat(a[1],"/").concat(e[1])}else e="".concat(e[2],"/").concat(e[1]);"0"===e.at(0)&&(e=e.slice(1));var r=(new Date).toLocaleTimeString().split(":");return e+"-"+t+" "+(r[0]+":"+r[1])},v=function(e){var t=e.setShowWriteComment,n=e.post_id;console.log(n);var s=Object(c.useState)(39),a=Object(i.a)(s,2),r=a[0],l=(a[1],Object(c.useState)("post lalalal post posst")),j=Object(i.a)(l,2),d=j[0],h=j[1],m=Object(c.useState)("13/6 12.04"),x=Object(i.a)(m,2),p=(x[0],x[1],function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/comment/create_comment",{post_id:n,user_id:r,text:d,time:g()});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h5",{onClick:function(){return t(!1)},children:[Object(o.jsx)("span",{children:"pil"}),Object(o.jsx)("span",{children:"cancel"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"",children:"upload img: "}),Object(o.jsx)("input",{type:"file",name:"",id:""})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{name:"",id:"",cols:"30",rows:"10",placeholder:"What are you thinking..?",onChange:function(e){return h(e.target.value)}}),Object(o.jsx)("button",{onClick:function(){return p()},children:"send"})]})]})},N=function(e){var t=e.post,n=e.setShowWriteComment,s=e.setCommentPost_id,a=e.user;console.log(t);var r=t.reactions.filter((function(e){return"0"===e.type&&e.post_id})),j=t.reactions.filter((function(e){return"1"===e.type&&e.post_id})),d=Object(c.useState)(!1),m=Object(i.a)(d,2),x=m[0],p=m[1],g=Object(c.useState)(!1),v=Object(i.a)(g,2),N=v[0],S=(v[1],function(){var e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/reaction/create_reaction",{post_id:t.post.post_id,user_id:a.user_id,type:0,reaction:0,comment_id:"null"});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),C=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,h("/hashtags/get_certain_hashtags/?hashtag=".concat(t),n.signal);case 3:return c=e.sent,console.log(c),e.abrupt("return",(function(){return n.abort()}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return N?Object(o.jsx)("h3",{children:"loading .."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("section",{className:"flex single-post",onClick:function(e){e.target.classList.value.includes("noshow-com")||p(!x)},children:[Object(o.jsxs)("div",{className:"author-img-container",children:[Object(o.jsx)("div",{className:"author-img"}),Object(o.jsxs)("div",{className:"comment-line",children:[Object(o.jsx)("div",{className:"line"}),Object(o.jsx)("div",{className:"corner"})]})]}),Object(o.jsxs)("div",{className:"w100",children:[Object(o.jsxs)("div",{className:"flex JC-SB post-top",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"author-username",children:t.user.name}),Object(o.jsx)("span",{className:"post-timestamp",children:f(t.post.time)})]}),Object(o.jsxs)("div",{className:"noshow-com likes",children:[Object(o.jsx)("span",{className:"noshow-com",onClick:function(){return S()},children:"LIKEIT"}),Object(o.jsx)("span",{className:"noshow-com likes-number",children:r.length}),Object(o.jsx)("span",{className:"noshow-com likes-svg"})]})]}),Object(o.jsx)("div",{className:"post-content",children:Object(o.jsx)("p",{className:"post-text-content",children:t.post.text})}),Object(o.jsxs)("div",{className:"flex JC-SB post-bot",children:[Object(o.jsx)("div",{className:"flex FW-wrap",children:t.hashtags.map((function(e){return Object(o.jsx)("span",{onClick:function(){return C(e.content.slice(1))},className:"noshow-com post-hashtag",children:e.content})}))}),Object(o.jsxs)("div",{className:"flex",children:[Object(o.jsx)("span",{className:"noshow-com",onClick:function(){s(t.post.post_id),n(!0)},children:Object(o.jsx)("i",{class:"fas fa-comment"})}),Object(o.jsx)("span",{className:"comment-number",children:t.comments.length}),Object(o.jsx)("span",{children:Object(o.jsx)("i",{class:"fas fa-smile"})}),Object(o.jsx)("span",{className:"reaction-number",children:j.length})]})]})]})]}),Object(o.jsx)(l,{condition:x,children:t.comments.map((function(e){return Object(o.jsx)(w,{comment:e})}))})]})},w=function(e){var t=e.comment;console.log(t);var n=t.reactions.filter((function(e){return"0"===e.type&&e.comment_id})),c=t.reactions.filter((function(e){return"1"===e.type&&e.comment_id}));return Object(o.jsxs)("section",{className:"flex comment-container",children:[Object(o.jsx)("div",{className:"comment-img-container",children:Object(o.jsx)("div",{className:"commentator-user-img"})}),Object(o.jsxs)("div",{className:"w100",children:[Object(o.jsxs)("div",{className:"comment-top",children:[Object(o.jsx)("span",{className:"commentator-username",children:t.name}),Object(o.jsx)("span",{className:"comment-timestamp",children:f(t.time)})]}),Object(o.jsx)("p",{className:"comment-content",children:t.text}),Object(o.jsxs)("div",{className:"flex JC-E comment-bot",children:[Object(o.jsx)("span",{children:Object(o.jsx)("i",{class:"fas fa-comment"})}),Object(o.jsx)("span",{className:"comment-number",children:n.length}),Object(o.jsx)("span",{children:Object(o.jsx)("i",{class:"fas fa-smile"})}),Object(o.jsx)("span",{className:"reaction-number",children:c.length})]})]})]})},S=n(7),C=function(e){var t=e.setShowWritePost,n=Object(c.useState)(38),s=Object(i.a)(n,2),a=s[0],r=(s[1],Object(c.useState)("post lalalal post posst")),j=Object(i.a)(r,2),d=j[0],m=j[1],x=Object(c.useState)([]),p=Object(i.a)(x,2),f=p[0],v=p[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),C=w[0],k=w[1],y=Object(c.useState)([]),_=Object(i.a)(y,2),F=_[0],P=_[1],T=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/post/create_post",{user_id:a,text:d,time:g()});case 2:t=e.sent,n=t,f.forEach(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/hashtag/handle_hashtag",{content:t,post_id:n,user_id:a});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,h("/hashtag/get_certain_hashtags/?input=".concat(C),t.signal);case 3:return n=e.sent,console.log(n),P(n.hashtags),e.abrupt("return",(function(){return t.abort()}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h5",{onClick:function(){return t(!1)},children:[Object(o.jsx)("span",{children:"pil"}),Object(o.jsx)("span",{children:"cancel"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"",children:"upload img: "}),Object(o.jsx)("input",{type:"file",name:"",id:""})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{name:"",id:"",cols:"30",rows:"10",placeholder:"What are you thinking..?",onChange:function(e){return m(e.target.value)}}),Object(o.jsx)("button",{onClick:function(){return T()},children:"send"})]}),Object(o.jsxs)("section",{className:"flex",children:[Object(o.jsx)("div",{onClick:function(e){console.log(f),f.includes(e.target.textContent)||v((function(t){return[].concat(Object(S.a)(t),[e.target.textContent])}))},children:"#Deltagare"}),Object(o.jsx)("div",{onClick:function(e){console.log(f),f.includes(e.target.textContent)||v((function(t){return[].concat(Object(S.a)(t),[e.target.textContent])}))},children:"#Skola"})]}),Object(o.jsx)("div",{children:"Hashtag:"}),Object(o.jsxs)("section",{className:"flex",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",name:"",onChange:function(e){return k(e.target.value)}}),Object(o.jsx)("button",{onClick:function(){return W()},children:"s\xf6k"}),Object(o.jsx)("button",{children:"add"})]}),Object(o.jsx)("div",{className:"flex FW-wrap",children:f.map((function(e,t){return console.log(e),Object(o.jsx)("div",{onClick:function(){v(f.filter((function(t){return t!==e})))},children:e},t)}))})]}),Object(o.jsx)(l,{condition:0!==F.length,children:F.map((function(e,t){return Object(o.jsx)("div",{onClick:function(){f.includes(e.content)||v((function(t){return[].concat(Object(S.a)(t),[e.content])}))},children:e.content},t)}))})]})},k=function(e){var t=e.setShowSearch;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"search"}),Object(o.jsxs)("h5",{onClick:function(){return t(!1)},children:[Object(o.jsx)("span",{children:"pil"}),Object(o.jsx)("span",{children:"cancel"})]})]})},y=function(e){var t=e.setShowMenu;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"menu"}),Object(o.jsxs)("h5",{onClick:function(){return t(!1)},children:[Object(o.jsx)("span",{children:"pil"}),Object(o.jsx)("span",{children:"cancel"})]})]})},_=function(e){var t=e.theme,n=e.setTheme,s=e.user;console.log(s);var a=Object(c.useState)(!1),r=Object(i.a)(a,2),j=r[0],d=r[1],O=Object(c.useState)(!1),m=Object(i.a)(O,2),x=m[0],p=m[1],f=Object(c.useState)(null),g=Object(i.a)(f,2),w=g[0],S=g[1],_=Object(c.useState)(!1),F=Object(i.a)(_,2),P=F[0],T=F[1],W=Object(c.useState)(!1),J=Object(i.a)(W,2),D=J[0],M=J[1],B=Object(c.useState)([]),E=Object(i.a)(B,2),L=E[0],U=E[1],A=Object(c.useState)(!0),I=Object(i.a)(A,2),G=I[0],H=I[1],K=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("/post/get_posts_data",t);case 2:n=e.sent,console.log(n),U(n),H(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,K(t.signal);case 3:return e.abrupt("return",(function(){return t.abort()}));case 4:case"end":return e.stop()}}),e)}))),[]),G?Object(o.jsx)("h3",{children:"loading .."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(l,{condition:!j&&!P&&!D&&!x,children:[Object(o.jsxs)("header",{className:"flex JC-SB header",children:[Object(o.jsx)("div",{className:"header-user-img"}),Object(o.jsx)("div",{className:"header-stars",onClick:function(){return n(!t)}})]}),Object(o.jsxs)("section",{className:"top-btns flex JC-C",children:[Object(o.jsx)("div",{className:"menu-btn flex",onClick:function(){return M(!0)},children:Object(o.jsx)("i",{class:"fas fa-bars"})}),Object(o.jsx)("div",{className:"write-post-btn flex",onClick:function(){return d(!0)},children:Object(o.jsx)("i",{class:"fas fa-pencil-alt"})}),Object(o.jsx)("div",{className:"search-btn flex",onClick:function(){return T(!0)},children:Object(o.jsx)("i",{class:"fas fa-search"})})]}),Object(o.jsx)("section",{className:"container",children:Object(o.jsx)("div",{className:"posts",children:L.map((function(e,t){return console.log(e),Object(o.jsx)(N,{post:e,setShowWriteComment:p,setCommentPost_id:S,user:s},t)}))})})]}),Object(o.jsx)(l,{condition:j,children:Object(o.jsx)(C,{setShowWritePost:d})}),Object(o.jsx)(l,{condition:P,children:Object(o.jsx)(k,{setShowSearch:T})}),Object(o.jsx)(l,{condition:D,children:Object(o.jsx)(y,{setShowMenu:M})}),Object(o.jsx)(l,{condition:x,children:Object(o.jsx)(v,{post_id:w,setShowWriteComment:p})})]})};var F=function(){var e=Object(c.useState)("home"),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(null),r=Object(i.a)(a,2),j=r[0],u=r[1],b=Object(c.useState)(!0),d=Object(i.a)(b,2),h=d[0],O=d[1],m=Object(c.useState)(!1),x=Object(i.a)(m,2);return x[0],x[1],Object(o.jsxs)("div",{className:"App ".concat(h?"light":"dark"),children:[Object(o.jsx)(l,{condition:"home"===n,children:Object(o.jsx)(p,{theme:h,setTheme:O,setPage:s,setUser:u})}),Object(o.jsx)(l,{condition:"dashboard"===n,children:Object(o.jsx)(_,{theme:h,setTheme:O,setPage:s,user:j})})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(F,{})}),document.getElementById("root")),P()}},[[19,1,2]]]);