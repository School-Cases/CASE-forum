(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{28:function(e,t,n){},31:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var s,c,a,i,r,o=n(1),l=n.n(o),u=n(9),j=n.n(u),d=(n(28),n(3)),h=n.n(d),b=n(4),m=n(2),p=(n(30),n(31),"http://glimra.glimnet.se"),O=function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+t,{method:"GET",signal:n,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=n(0),g=function(e){var t=e.setTheme,n=e.setLoggedIn,s=e.setSignup,c=e.setUser,a=Object(o.useState)(null),i=Object(m.a)(a,2),r=i[0],l=i[1],u=Object(o.useState)(null),j=Object(m.a)(u,2),d=j[0],p=j[1],O=Object(o.useState)(null),g=Object(m.a)(O,2),w=g[0],v=g[1],N=function(){var e=Object(b.a)(h.a.mark((function e(){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/user/user_login",{name:r,password:d});case 2:(s=e.sent).fail?v(s.fail):(c(s),t(parseInt(s.theme)),n(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"flex login-top",children:Object(f.jsx)("div",{className:"glimra-logo"})}),Object(f.jsxs)("section",{className:"flex login-container",children:[Object(f.jsx)("h2",{className:"login-welcome",children:"V\xe4lkommen!"}),Object(f.jsxs)("div",{className:"home-pad-input2",children:[Object(f.jsx)("label",{className:"login-label",htmlFor:"namn",children:"Namn:"}),Object(f.jsx)("input",{className:"login-input",type:"text",name:"",placeholder:"",onChange:function(e){return l(e.target.value)}})]}),Object(f.jsxs)("div",{className:"home-pad-input",children:[Object(f.jsx)("label",{className:"login-label",htmlFor:"password",children:"L\xf6senord:"}),Object(f.jsx)("input",{className:"login-input",type:"password",name:"",placeholder:"",onChange:function(e){return p(e.target.value)}})]}),Object(f.jsx)("div",{children:w}),Object(f.jsx)("button",{className:"login-btn",onClick:function(){return N()},children:"Logga in"}),Object(f.jsxs)("div",{className:"login-create-user",children:["Ny anv\xe4ndare?"," ",Object(f.jsx)("span",{className:"create-user-link",onClick:function(){return s(!0)},children:"skapa konto"})]}),Object(f.jsx)("div",{className:"login-tree"})]})]})},w=function(e){var t=e.condition,n=e.children;return Object(f.jsx)(f.Fragment,{children:t&&n})},v=["Allm\xe4n","Barnsk\xf6tare","Bas","Esport","Gospel","Keramik","Preparand","Smart","Textil","Webbutveckling"],N=n(11),_=n.n(N),k=function(e){var t=e.setLoggedIn,n=e.setSignup,s=e.setUser,c=Object(o.useState)(null),a=Object(m.a)(c,2),i=a[0],r=a[1],l=Object(o.useState)("test@test.com"),u=Object(m.a)(l,2),j=u[0],d=(u[1],Object(o.useState)(null)),O=Object(m.a)(d,2),x=O[0],g=O[1],N=Object(o.useState)("V\xc4LJ KURS"),k=Object(m.a)(N,2),C=k[0],S=k[1],y=Object(o.useState)(null),P=Object(m.a)(y,2),F=P[0],W=P[1],L=Object(o.useState)(null),D=Object(m.a)(L,2),I=D[0],T=D[1],M=Object(o.useState)(!1),A=Object(m.a)(M,2),J=A[0],B=A[1],V=Object(o.useState)(null),U=Object(m.a)(V,2),H=U[0],z=U[1],E=function(){var e=Object(b.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||null===x||!F){e.next=13;break}return(n=new FormData).append("image",I),n.append("name",i),n.append("password",F),n.append("email",j),n.append("type",x),n.append("course",0===x?C.toLowerCase():null),e.next=10,fetch("".concat(p,"/user/create_user"),{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return c=e}));case 10:c.fail?z("N\xe5got gick snett lol"):(z("Gick finfint!"),s(c),t(!0)),e.next=14;break;case 13:z("N\xe5got gick snett lol, testa igen");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"flex login-top",children:Object(f.jsx)("div",{className:"glimra-logo"})}),Object(f.jsxs)("section",{className:"flex login-container",children:[Object(f.jsxs)("section",{className:"flex JC-SB heading",children:[Object(f.jsx)("span",{className:"back-arrow login-welcome",onClick:function(){return n(!1)},children:Object(f.jsx)("i",{class:"fas fa-arrow-left"})}),Object(f.jsx)("span",{className:"login-welcome",children:"Skapa konto"}),Object(f.jsx)("span",{})]}),Object(f.jsxs)("div",{className:"home-pad-input2",children:[Object(f.jsxs)("label",{className:"login-label",htmlFor:"",children:["Namn:"," "]}),Object(f.jsx)("input",{className:"login-input",type:"text",name:"name",placeholder:"",onChange:function(e){return r(e.target.value)}})]}),Object(f.jsxs)("div",{className:"home-pad-input",children:[Object(f.jsxs)("label",{className:"login-label",htmlFor:"password",children:["L\xf6senord:"," "]}),Object(f.jsx)("input",{className:"login-input",type:"password",name:"password",placeholder:"",onChange:function(e){return W(e.target.value)}})]}),Object(f.jsxs)("div",{className:"flex home-pad-input login-radio-content",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"",htmlFor:"",children:"Deltagare"})," ",Object(f.jsx)("input",{type:"radio",name:"type",onClick:function(e){return g(0)}})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{className:"",htmlFor:"",children:"Personal"})," ",Object(f.jsx)("input",{type:"radio",name:"type",onClick:function(e){return g(1)}})]})]}),Object(f.jsx)(w,{condition:0===x,children:Object(f.jsx)("div",{className:"flex home-pad-input",children:Object(f.jsxs)("div",{class:"select-custom",children:[Object(f.jsx)(w,{condition:J,children:Object(f.jsx)("input",{id:"dropdownMenu",type:"checkbox",checked:!0})}),Object(f.jsx)(w,{condition:!J,children:Object(f.jsx)("input",{id:"dropdownMenu",type:"checkbox"})}),Object(f.jsx)("label",{for:"dropdownMenu",class:"select-custom__label",onClick:function(){return B(!J)},children:C}),Object(f.jsx)("span",{class:"input-custom__border"}),Object(f.jsx)("ul",{class:"select-custom__dropdownMenu ".concat(J?"":"noshowdrop"),children:v.map((function(e,t){return Object(f.jsx)("li",{onClick:function(){S(e),B(!1)},class:"select-custom__option ".concat(C===e?"picked":""),children:e},t)}))})]})})}),Object(f.jsx)("div",{className:"flex JC-C user-img-upload",children:Object(f.jsxs)("section",{className:"flex",style:{marginLeft:"5rem"},children:[Object(f.jsxs)("label",{className:"login-label",htmlFor:"profilepic",children:["Profilbild:"," "]}),Object(f.jsx)("input",{className:"file-upload",name:"image",type:"file",onChange:function(e){var t=e.target.files[0];new _.a(t,{quality:.6,maxWidth:1e3,maxHeight:1e3,success:function(e){var t=new File([e],"namnet");T(t)},error:function(e){throw e}})}})]})}),Object(f.jsx)("div",{children:H}),Object(f.jsx)("button",{className:"login-btn",onClick:function(){return E()},children:"Skapa"})]})]})},C=function(e){var t=e.setLoggedIn,n=e.setTheme,s=e.setUser,c=Object(o.useState)(!1),a=Object(m.a)(c,2),i=a[0],r=a[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{condition:!i,children:Object(f.jsx)(g,{setLoggedIn:t,setSignup:r,setUser:s,setTheme:n})}),Object(f.jsx)(w,{condition:i,children:Object(f.jsx)(k,{setLoggedIn:t,setSignup:r,setUser:s})})]})},S=n(6),y=(n(33),function(e){var t=e.show,n=Object(o.useContext)($).dispatch;return Object(f.jsx)("section",{className:"menu-header",children:Object(f.jsxs)("h5",{onClick:function(){return n({type:t})},children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{class:"fas fa-arrow-left"})}),Object(f.jsx)("span",{className:"menu-header-text",children:"Tillbaka"})]})})}),P=function(){var e=(new Date).toLocaleDateString().split("-"),t=e[0].at(-2)+e[0].at(-1);if("0"===e[1].at(0)&&"0"===e[2].at(0)){var n=e[2],s=e[1];e="".concat(n[1],"/").concat(s[1])}else if("0"===e[1].at(0)){var c=e[1];e="".concat(e[2],"/").concat(c[1])}else if("0"===e[2].at(0)){var a=e[2];e="".concat(a[1],"/").concat(e[1])}else e="".concat(e[2],"/").concat(e[1]);var i=(new Date).toLocaleTimeString().split(":");return e+"-"+t+" "+(i[0]+":"+i[1])},F=function(e){var t=e.color,n=e.size;return Object(f.jsx)("div",{class:"load-wrap ".concat(n),children:Object(f.jsx)("div",{class:"load-9",children:Object(f.jsxs)("div",{class:"spinner",children:[Object(f.jsx)("div",{class:"bubble-1",children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 81.46 95",children:Object(f.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(f.jsx)("g",{id:"Layer_2-2","data-name":"Layer 2",children:Object(f.jsx)("path",{className:"cls-4 ".concat(t),d:"M40.73,4.2h0C32.9,23,20.06,38.22,4.2,47.5h0C20.06,56.78,32.9,72,40.73,90.8h0c7.83-18.8,20.67-34,36.53-43.3h0C61.4,38.22,48.56,23,40.73,4.2Z"})})})})}),Object(f.jsx)("div",{class:"bubble-2",children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 81.46 95",children:Object(f.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(f.jsx)("g",{id:"Layer_2-2","data-name":"Layer 2",children:Object(f.jsx)("path",{className:"cls-4 ".concat(t),d:"M40.73,4.2h0C32.9,23,20.06,38.22,4.2,47.5h0C20.06,56.78,32.9,72,40.73,90.8h0c7.83-18.8,20.67-34,36.53-43.3h0C61.4,38.22,48.56,23,40.73,4.2Z"})})})})})]})})})},W=function(e){var t=e.setPosts,n=e.mainHashtags,s=e.favHashtags,c=Object(o.useContext)($).dispatch,a=Object(o.useContext)(se).user,i=Object(o.useState)(""),r=Object(m.a)(i,2),l=r[0],u=r[1],j=Object(o.useState)([]),d=Object(m.a)(j,2),x=d[0],g=d[1],v=Object(o.useState)(""),N=Object(m.a)(v,2),k=N[0],C=N[1],W=Object(o.useState)([]),L=Object(m.a)(W,2),D=L[0],I=L[1],T=Object(o.useState)(!1),M=Object(m.a)(T,2),A=M[0],J=M[1],B=Object(o.useState)(!1),V=Object(m.a)(B,2),U=V[0],H=V[1],z=Object(o.useState)([]),E=Object(m.a)(z,2),R=E[0],q=E[1],G=Object(o.useState)(null),K=Object(m.a)(G,2),Z=K[0],Y=K[1],Q=function(){var e=Object(b.a)(h.a.mark((function e(){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),""!==k){e.next=3;break}return e.abrupt("return");case 3:return(n=new FormData).append("user_id",a.user_id),n.append("text",k),n.append("time",P()),n.append("hashtags",JSON.stringify(D)),R.length>0&&R.forEach((function(e){n.append("images[]",e)})),e.next=11,fetch("".concat(p,"/post/create_post"),{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return s=e}));case 11:s.fail||(t((function(e){return[s].concat(Object(S.a)(e))})),c({type:"showPosts"}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,O("/hashtag/get_certain_hashtags/?input=".concat(l),t.signal);case 3:return(n=e.sent).hashtags.length<1?Y("Inga matchande hashtags hittade"):Y(null),g(n.hashtags),e.abrupt("return",(function(){return t.abort()}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return U?Object(f.jsx)(F,{color:"white",size:"big"}):Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)(y,{show:"showPosts"}),Object(f.jsx)("div",{className:"pad-1 main-view",children:Object(f.jsxs)("section",{className:"write-post-container",children:[Object(f.jsxs)("div",{className:"textarea-wrap",children:[Object(f.jsx)("textarea",{className:"write-post",name:"",id:"",cols:"30",rows:A?"4":"8",placeholder:"What are you thinking..?",onChange:function(e){return C(e.target.value)}}),Object(f.jsx)("button",{className:"send-post-btn",onClick:function(){return Q()},children:Object(f.jsx)("i",{class:"fas fa-pencil-alt"})})]}),Object(f.jsx)("div",{className:"flex FW-wrap write-post-imgs",children:R.map((function(e,t){var n=e.name.split(".");return Object(f.jsxs)("div",{className:"single-img",children:[(n[0].length>5?n[0].slice(0,5)+"..":n[0])+"."+n[1],Object(f.jsx)("span",{className:"img-delete",onClick:function(){q(R.filter((function(t){return t!==e})))},children:Object(f.jsx)("i",{class:"fas fa-times"})})]},t)}))}),Object(f.jsx)("input",{className:"file-upload write-post-file",type:"file",onChange:function(e){var t=e.target.files[0];new _.a(t,{quality:.6,maxWidth:1e3,maxHeight:1e3,success:function(e){var t=new File([e],"namnet");q((function(e){return[].concat(Object(S.a)(e),[t])}))},error:function(e){throw e}})}}),Object(f.jsx)("div",{className:"flex JC-SB write-post-bot",children:Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:D.map((function(e,t){return Object(f.jsxs)("div",{className:"hashtag-box orange",children:[e," ",Object(f.jsx)("span",{className:"hashtag-delete",onClick:function(){I(D.filter((function(t){return t!==e})))},children:Object(f.jsx)("i",{class:"fas fa-times"})},t)]})}))})}),Object(f.jsx)("div",{className:"flex send-container"}),Object(f.jsxs)("h5",{className:"add-hash-label",onClick:function(){J(!A)},children:["L\xe4gg till hashtag"," ",Object(f.jsx)(w,{condition:!A,children:Object(f.jsx)("i",{class:"fas fa-chevron-down"})}),Object(f.jsx)(w,{condition:A,children:Object(f.jsx)("i",{class:"fas fa-chevron-up"})})]}),Object(f.jsx)(w,{condition:A,children:Object(f.jsxs)("section",{className:"flex FD-C add-hash-wrap",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Mains:"}),Object(f.jsx)("section",{className:"flex hashtags-filter",children:n.map((function(e){return Object(f.jsx)(w,{condition:!D.includes(e.content),children:Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(t){I((function(t){return[].concat(Object(S.a)(t),[e.content])}))},children:e.content})})}))})]}),Object(f.jsx)(w,{condition:s.length>0,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Dina favvos:"}),Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:s.map((function(e){return Object(f.jsx)(w,{condition:!D.includes(e.content),children:Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(t){I((function(t){return[].concat(Object(S.a)(t),[e.content])}))},children:e.content})})}))})]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"S\xf6k/Skapa:"}),Object(f.jsx)("section",{className:"flex",children:Object(f.jsxs)("div",{className:"flex hashtag-input-content",children:[Object(f.jsx)("input",{type:"text",name:"",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("span",{className:"flex btn",onClick:function(){return X()},children:Object(f.jsx)("i",{class:"fas fa-search"})}),Object(f.jsx)("span",{className:"flex btn",onClick:function(){D.includes("#"+l)||I((function(e){return[].concat(Object(S.a)(e),["#"+l])}))},children:Object(f.jsx)("i",{class:"fas fa-plus"})})]})}),Object(f.jsx)(w,{condition:Z,children:Object(f.jsx)("h6",{children:Z})}),Object(f.jsx)(w,{condition:0!==x.length,children:Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:x.map((function(e,t){return Object(f.jsx)(w,{condition:!D.includes(e.content),children:Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(){I((function(t){return[].concat(Object(S.a)(t),[e.content])}))},children:e.content},t)})}))})})]})]})})]})})]})},L=function(e){var t=e.fetchCertainPosts,n=e.setPostFilter,s=e.setPostsLoading,c=e.mainHashtags,a=e.favHashtags,i=Object(o.useContext)($).dispatch,r=(Object(o.useContext)(se).user,Object(o.useState)("")),l=Object(m.a)(r,2),u=l[0],j=l[1],d=Object(o.useState)([]),p=Object(m.a)(d,2),x=p[0],g=p[1],v=Object(o.useState)(!1),N=Object(m.a)(v,2),_=N[0],k=(N[1],Object(o.useState)(!1)),C=Object(m.a)(k,2),S=C[0],P=C[1],W=Object(o.useState)(null),L=Object(m.a)(W,2),D=L[0],I=L[1],T=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,P(!0),e.next=4,O("/hashtag/get_certain_hashtags/?input=".concat(u),t.signal);case 4:return(n=e.sent).hashtags.length<1?I("Inga matchande hashtags hittade"):I(null),g(n.hashtags),P(!1),e.abrupt("return",(function(){return t.abort()}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _?Object(f.jsx)(F,{color:"white",size:"big"}):Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)(y,{show:"showPosts"}),Object(f.jsx)("div",{className:"pad-1 main-view",children:Object(f.jsxs)("section",{className:"flex FD-C add-hash-wrap",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Mains:"}),Object(f.jsx)("section",{className:"flex hashtags-filter",children:c.map((function(e){return Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(c){i({type:"showPosts"}),s(!0),t(e.content.slice(1)),n(e.content)},children:e.content})}))})]}),Object(f.jsx)(w,{condition:a.length>0,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Dina favvos:"}),Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:a.map((function(e){return Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(c){i({type:"showPosts"}),s(!0),t(e.content.slice(1)),n(e.content)},children:e.content})}))})]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"S\xf6k:"}),Object(f.jsx)("section",{className:"flex",children:Object(f.jsxs)("div",{className:"flex hashtag-input-content",children:[Object(f.jsx)("input",{type:"text",name:"",onChange:function(e){return j(e.target.value)}}),Object(f.jsx)("span",{className:"flex btn",onClick:function(){return T()},children:Object(f.jsx)("i",{class:"fas fa-search"})})]})}),Object(f.jsx)(w,{condition:D,children:Object(f.jsx)("h6",{children:D})}),Object(f.jsx)(w,{condition:S,children:Object(f.jsx)(F,{color:"orange",size:"small"})}),Object(f.jsx)(w,{condition:!S,children:Object(f.jsx)(w,{condition:0!==x.length,children:Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:x.map((function(e,c){return Object(f.jsx)("div",{className:"hashtag-box orange",onClick:function(){i({type:"showPosts"}),s(!0),t(e.content.slice(1)),n(e.content)},children:e.content},c)}))})})})]})]})})]})},D=function(e){var t=e.setShowSettings,n=Object(o.useContext)(se).user,s=Object(o.useState)(null),c=Object(m.a)(s,2),a=c[0],i=c[1],r=Object(o.useState)(null),l=Object(m.a)(r,2),u=l[0],j=l[1],d=Object(o.useState)(null),p=Object(m.a)(d,2),O=p[0],x=p[1],g=Object(o.useState)(""),w=Object(m.a)(g,2),v=(w[0],w[1],function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",O),t.append("user_id",n.user_id),t.append("current_password",a),t.append("new_password",u),e.next=7,fetch("/user/user_update",{method:"POST",body:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)("section",{className:"menu-header",children:Object(f.jsxs)("h5",{onClick:function(){return t(!1)},children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{class:"fas fa-arrow-left"})}),Object(f.jsx)("span",{className:"menu-header-text",children:"Tillbaka"})]})}),Object(f.jsxs)("section",{className:"pad-1 main-view settings-main",children:[Object(f.jsx)("h4",{children:"Byt l\xf6senord:"}),Object(f.jsxs)("div",{className:"flex FD-C",children:[Object(f.jsx)("label",{htmlFor:"",children:"Nuvarande:"}),Object(f.jsx)("input",{className:"input-settings",type:"password",name:"",onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)("div",{className:"flex FD-C",children:[Object(f.jsx)("label",{htmlFor:"",children:"Nytt:"}),Object(f.jsx)("input",{className:"input-settings",type:"password",name:"",onChange:function(e){return j(e.target.value)}})]}),Object(f.jsx)("h4",{className:"change-pic-set",children:"Byt profilbild:"}),Object(f.jsx)("input",{className:"file-upload",name:"image",type:"file",src:"",alt:"",onChange:function(e){return x(e.target.files[0])}}),Object(f.jsx)("div",{className:"flex JC-C settings-bot",children:Object(f.jsx)("button",{className:"settings-save",onClick:function(){v()},children:"Spara"})})]})]})},I=function(e){var t=e.setLoggedIn,n=e.theme,s=e.setTheme,c=Object(o.useContext)(se).user,a=Object(o.useState)(!1),i=Object(m.a)(a,2),r=i[0],l=i[1],u=function(){var e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,O("/user/user_logout",n.signal);case 3:return e.sent,t(!1),e.abrupt("return",(function(){return n.abort()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/user/user_theme_update",{user_id:c.user_id});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{condition:!r,children:Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)(y,{show:"showPosts"}),Object(f.jsx)("section",{className:"pad-1 main-view",children:Object(f.jsxs)("section",{className:"flex FD-C menu-view",children:[Object(f.jsx)("div",{className:"menu-item",onClick:function(){l(!0)},children:"Inst\xe4llningar"}),Object(f.jsx)("div",{className:"menu-item",onClick:function(){u()},children:"Logga ut"}),Object(f.jsxs)("div",{className:"menu-item-theme",onClick:function(){s(0===n?1:0),j()},children:["Byt till ",0===n?"dark theme":"standard theme"]})]})})]})}),Object(f.jsx)(w,{condition:r,children:Object(f.jsx)(D,{setShowSettings:l})})]})},T=function(e){var t=e.chosenPost,n=e.setChosenPost,s=Object(o.useContext)($).dispatch,c=Object(o.useContext)(se).user,a=Object(o.useState)(""),i=Object(m.a)(a,2),r=i[0],l=i[1],u=Object(o.useState)(!1),j=Object(m.a)(u,2),d=j[0],O=j[1],g=Object(o.useState)([]),w=Object(m.a)(g,2),v=w[0],N=w[1],k=function(){var e=Object(b.a)(h.a.mark((function e(){var a,i,o,l,u,j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),""!==r){e.next=3;break}return e.abrupt("return");case 3:return a=t.hashtags.map((function(e){return e.hashtag_id})),i=t.comments.some((function(e){return e.user_id===c.user_id}))||t.post.user_id===c.user_id?1:0,(o=new FormData).append("post_id",t.post.post_id),o.append("user_id",c.user_id),o.append("text",r),o.append("time",P()),o.append("hashtags",JSON.stringify(a)),o.append("noInteractionUpd",i),v.length>0&&v.forEach((function(e){o.append("images[]",e)})),e.next=15,fetch("".concat(p,"/comment/create_comment"),{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){return l=e}));case 15:return u=[],t.comments.length<1&&c.user_id!==t.user.user_id?u.push(t.user.user_id):t.comments.map((function(e){e.user_id===c.user_id||u.includes(e.user_id)||u.push(e.user_id)})),j=u.filter((function(e){return e!==c.user_id})),e.next=20,x("/notification/create_notification",{time:P(),post_id:t.post.post_id,comment_id:"null",type:2,notiUsers:j,post_user:t.user.user_id,origin:t.post.post_id});case 20:e.sent,l.fail||((d=t).comments.push(l),n(d),s({type:"showPostView"}));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?Object(f.jsx)(F,{color:"white",size:"big"}):Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)(y,{show:"showPostView"}),Object(f.jsx)("div",{className:"pad-1 main-view",children:Object(f.jsxs)("section",{className:"write-post-container",children:[Object(f.jsxs)("div",{className:"textarea-wrap",children:[Object(f.jsx)("textarea",{className:"write-post",name:"",id:"",cols:"30",rows:"8",placeholder:"What are you thinking..?",onChange:function(e){return l(e.target.value)}}),Object(f.jsx)("button",{className:"send-post-btn",onClick:function(){return k()},children:Object(f.jsx)("i",{class:"fas fa-pencil-alt"})})]}),Object(f.jsx)("div",{className:"flex FW-wrap write-post-imgs",children:v.map((function(e,t){var n=e.name.split(".");return Object(f.jsxs)("div",{className:"single-img",children:[(n[0].length>5?n[0].slice(0,5)+"..":n[0])+"."+n[1],Object(f.jsx)("span",{className:"img-delete",onClick:function(){N(v.filter((function(t){return t!==e})))},children:Object(f.jsx)("i",{class:"fas fa-times"})})]},t)}))}),Object(f.jsx)("input",{className:"file-upload write-post-file",type:"file",onChange:function(e){var t=e.target.files[0];new _.a(t,{quality:.6,maxWidth:1e3,maxHeight:1e3,success:function(e){var t=new File([e],"namnet");N((function(e){return[].concat(Object(S.a)(e),[t])}))},error:function(e){}})}}),Object(f.jsx)("div",{className:"flex send-container"})]})})]})},M=n(7),A=function(e){var t=e.split("-");return t[1].split(" ")[0]===(new Date).getFullYear().toString().slice(2)?t[0]+" "+t[1].split(" ")[1]:e},J=n(8),B=Object(J.a)("div")(s||(s=Object(M.a)(["\n  background-image: url(./static/media/",");\n"])),(function(e){return e.img})),V=function(e){var t=e.notifications,n=e.setNotifications,s=e.setChosenPost,c=(Object(o.useContext)(se).user,Object(o.useContext)($).dispatch),a=Object(o.useState)(!1),i=Object(m.a)(a,2),r=i[0],l=i[1],u=function(){var e=Object(b.a)(h.a.mark((function e(a,i,r,o,u){var j,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),j=new AbortController,e.next=4,O("/post/get_post_data_and_delete_noti/?id=".concat(a,"&compost=").concat(i,"&compost_id=").concat(r,"&type=").concat(o),j.signal);case 4:return d=e.sent,n(t.filter((function(e){return e.notification_id!==u}))),s(d[0]),c({type:"showPostView"}),l(!1),e.abrupt("return",(function(){return j.abort()}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,s,c,a){return e.apply(this,arguments)}}();return r?Object(f.jsx)(F,{color:"white",size:"big"}):Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)(y,{show:"showPosts"}),Object(f.jsx)("section",{className:"main-view",children:t.map((function(e,n){return Object(f.jsx)(U,{n:e,lastHr:n!==t.length-1,fetchPostAndDeletNoti:u})}))})]})},U=function(e){var t=e.n,n=e.lastHr,s=e.fetchPostAndDeletNoti;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex single-noti",onClick:function(){s(t.origin,t.post_id?"post_id":"comment_id",t.post_id?t.post_id:t.comment_id,t.type,t.notification_id)},children:[Object(f.jsx)("div",{children:Object(f.jsx)("i",{class:"fas fa-circle"})}),Object(f.jsxs)("div",{children:[function(e){var t=e.post.name+("s"===e.post.name.at(-1)?"":"s");return"0"===e.type?Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"nr",children:e.NrOfDub})," ",e.NrOfDub>1?"nya interaktioner":"ny interaktion"," p\xe5"," ",Object(f.jsx)("span",{className:"user",children:"din"}),' post "',Object(f.jsxs)("i",{children:[e.text.slice(0,10),e.text.length>10?"...":""]}),'"']}):"1"===e.type?Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"nr",children:e.NrOfDub})," ",e.NrOfDub>1?"nya interaktioner":"ny interaktion"," p\xe5"," ",Object(f.jsx)("span",{className:"user",children:"din"}),' kommentar "',Object(f.jsxs)("i",{children:[e.text.slice(0,10),e.text.length>10?"...":""]}),'" till ',Object(f.jsx)("span",{className:"user",children:t}),' post "',Object(f.jsxs)("i",{children:[e.post.text.slice(0,10),e.post.text.length>10?"...":""]}),'"']}):Object(f.jsxs)("div",{children:["Andra har ocks\xe5 kommenterat p\xe5"," ",Object(f.jsx)("span",{className:"user",children:t}),' post "',Object(f.jsxs)("i",{children:[e.text.slice(0,10),e.text.length>10?"...":""]}),'"']})}(t),Object(f.jsx)("div",{className:"noti-con-time",children:A(t.time)})]}),Object(f.jsx)(w,{condition:t.post.image,children:Object(f.jsx)(B,{img:t.post.image,className:"noti-img"})})]}),Object(f.jsx)(w,{condition:n,children:Object(f.jsx)("hr",{})})]})},H=n(5),z=function(e){var t=e.postUserId,n=e.reactions,s=e.setReactions,c=e.fetchLike,a=e.setShowReactions,i=Object(o.useContext)(se).user;return Object(f.jsx)("div",{className:"flex noshow-com reactions",children:[0,1,2].map((function(e){return Object(f.jsx)("span",{className:"flex noshow-com",onClick:function(r){n.some((function(e){return e.user_id===i.user_id}))||t===i.user_id||(s((function(t){return[].concat(Object(S.a)(t),[{user_id:i.user_id,reaction:"".concat(e)}])})),a(!1),c(1,e))},children:Object(f.jsx)("span",{className:"noshow-com ".concat(n.filter((function(t){return t.reaction==="".concat(e)})).some((function(e){return e.user_id===i.user_id}))?"picked":""),children:Object(f.jsxs)("div",{className:"flex noshow-com",children:[Object(f.jsx)("i",{className:"noshow-com fas ".concat(0===e?"fa-grin-alt":1===e?"fa-surprise":"fa-grin-tears","\n                  ").concat(n.filter((function(t){return t.reaction!=="".concat(e)})).some((function(t){return t.user_id===i.user_id&&t.type!==e}))?"no-picked":"")}),Object(f.jsx)("span",{className:"noshow-com",children:n.filter((function(t){return t.reaction==="".concat(e)})).length})]})})})}))})},E=n(18),R=(Object(J.a)("div")(c||(c=Object(M.a)(["\n  background-image: url(./static/media/",");\n"])),(function(e){return e.img})),function(e){var t=e.images,n=Object(o.useState)(0),s=Object(m.a)(n,2),c=s[0],a=s[1];return Object(f.jsx)(E.a,{controls:1!==t.length,indicators:1!==t.length,interval:"2000000",activeIndex:c,onSelect:function(e,t){a(e)},children:t.map((function(e){return Object(f.jsx)(E.a.Item,{children:Object(f.jsx)("img",{className:"d-block w-100",src:"".concat("./static/media/"+e.name),alt:""})})}))})}),q=Object(J.a)("div")(a||(a=Object(M.a)(["\n  background-image: url(./static/media/",");\n"])),(function(e){return e.img})),G=function(e){var t=e.posts,n=e.setPosts,s=e.post,c=e.setChosenPost,a=Object(o.useContext)($).dispatch,i=Object(o.useContext)(se).user,r=Object(o.useState)(s.reactions.filter((function(e){return"0"===e.type&&e.post_id}))),l=Object(m.a)(r,2),u=l[0],j=l[1],d=Object(o.useState)(s.reactions.filter((function(e){return"1"===e.type&&e.post_id}))),p=Object(m.a)(d,2),g=p[0],v=p[1],N=Object(o.useState)(!1),_=Object(m.a)(N,2),k=_[0],C=_[1],W=Object(o.useState)(!1),L=Object(m.a)(W,2),D=L[0],I=(L[1],function(){var e=Object(b.a)(h.a.mark((function e(c,a){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/reaction/create_reaction",{post_id:s.post.post_id,user_id:i.user_id,type:c,comment_id:"null",reaction:a,hashtags:s.hashtags});case 2:return r=e.sent,o=t.map((function(e){return e.post.post_id===s.post.post_id?Object(H.a)(Object(H.a)({},e),{},{reactions:[].concat(Object(S.a)(e.reactions),[r[0]])}):e})),n(o),e.next=7,x("/notification/create_notification",{time:P(),post_id:s.post.post_id,comment_id:"null",type:0,notiUsers:[s.post.user_id],origin:s.post.post_id,post_user:s.post.user_id});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,O("/post/delete_post/?id=".concat(s.post.post_id),t.signal);case 3:return e.sent,e.abrupt("return",(function(){return t.abort()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,O("/hashtags/get_certain_hashtags/?hashtag=".concat(t),n.signal);case 3:return e.sent,e.abrupt("return",(function(){return n.abort()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return D?Object(f.jsx)(F,{color:"white",size:"big"}):Object(f.jsxs)("section",{className:"main-container",children:[Object(f.jsx)("div",{onClick:function(){c(null)},children:Object(f.jsx)(y,{show:"showPosts"})}),Object(f.jsxs)("div",{className:"pad-1 main-view",children:[Object(f.jsxs)("section",{className:"flex single-post",children:[Object(f.jsxs)("div",{className:"author-img-container",children:[Object(f.jsx)(q,{img:s.user.image,className:"author-img"}),Object(f.jsx)(w,{condition:s.comments.length>0,children:Object(f.jsxs)("div",{className:"comment-line",children:[Object(f.jsx)("div",{className:"line"}),Object(f.jsx)("div",{className:"corner"})]})})]}),Object(f.jsxs)("div",{className:"w100",children:[Object(f.jsxs)("div",{className:"flex JC-SB post-top",children:[Object(f.jsxs)("div",{className:"".concat(s.user.name.length>13?"flex FD-C":""),children:[Object(f.jsx)("span",{className:"author-username",children:s.user.name}),Object(f.jsx)("span",{className:"post-timestamp",children:A(s.post.time)})]}),Object(f.jsxs)("div",{className:"flex noshow-com likes ".concat(u.some((function(e){return e.user_id===i.user_id}))?"liked":""),children:[Object(f.jsx)(w,{condition:s.post.user_id===i.user_id,children:Object(f.jsx)("div",{onClick:function(){T()},children:"delete"})}),Object(f.jsx)("span",{className:"noshow-com likes-number",children:u.length}),Object(f.jsx)("span",{className:"noshow-com like",onClick:function(e){u.some((function(e){return e.user_id===i.user_id}))||s.post.user_id===i.user_id||(j((function(e){return[].concat(Object(S.a)(e),[{user_id:i.user_id}])})),I(0,0))},children:Object(f.jsx)("i",{class:"fas fa-thumbs-up \n                    \n                    "})})]})]}),Object(f.jsxs)("div",{className:"post-content",children:[Object(f.jsx)("p",{className:"post-text-content",children:s.post.text}),Object(f.jsx)(w,{condition:s.images.length>0,children:Object(f.jsx)(R,{images:s.images})})]}),Object(f.jsxs)("div",{className:"flex JC-SB post-bot",children:[Object(f.jsx)("div",{className:"flex FW-wrap",children:s.hashtags.map((function(e){return Object(f.jsx)("span",{onClick:function(){return M(e.content.slice(1))},className:"noshow-com post-hashtag ".concat(e.searched?"searched":""),children:e.content})}))}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("span",{className:"noshow-com",onClick:function(){s.post.user_id!==i.user_id&&C(!k)},children:Object(f.jsx)("i",{className:"fas fa-smile noshow-com"})}),Object(f.jsxs)("span",{className:"reaction-number",children:[g.length,Object(f.jsx)(w,{condition:k,children:Object(f.jsx)(z,{postUserId:s.post.user_id,reactions:g,setReactions:v,fetchLike:I,setShowReactions:C})})]})]})]})]})]}),s.comments.map((function(e,c){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(K,{user:i,comment:e,index:c,length:s.comments.length-1,posts:t,setPosts:n})})})),Object(f.jsx)("div",{className:"comment-input",onClick:function(){a({type:"showWriteComment"})},children:Object(f.jsx)("div",{className:"flex send-post-btn",children:Object(f.jsx)("i",{class:"fas fa-pencil-alt"})})})]})]})},K=function(e){var t=e.user,n=e.comment,s=e.index,c=(e.length,e.posts),a=e.setPosts,i=Object(o.useState)(!1),r=Object(m.a)(i,2),l=r[0],u=r[1],j=Object(o.useState)(n.reactions.filter((function(e){return"0"===e.type&&e.comment_id}))),d=Object(m.a)(j,2),p=d[0],g=d[1],v=Object(o.useState)(n.reactions.filter((function(e){return"1"===e.type&&e.comment_id}))),N=Object(m.a)(v,2),_=N[0],k=N[1],C=function(){var e=Object(b.a)(h.a.mark((function e(s,i){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/reaction/create_reaction",{post_id:"null",user_id:t.user_id,type:s,reaction:i,comment_id:n.comment_id,hashtags:[]});case 2:return r=e.sent,o=c.map((function(e){var t=e.comments.map((function(e){return e.comment_id===n.comment_id?Object(H.a)(Object(H.a)({},e),{},{reactions:[].concat(Object(S.a)(e.reactions),[r[0]])}):e}));return e.comments=t,e})),a(o),e.next=7,x("/notification/create_notification",{time:P(),post_id:"null",comment_id:n.comment_id,type:1,notiUsers:[n.user_id],origin:n.post_id,post_user:!1});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,O("/comment/delete_comment/?id=".concat(n.comment_id),t.signal);case 3:return e.sent,e.abrupt("return",(function(){return t.abort()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("section",{className:"flex comment-container ".concat(0===s?"first-c":""),children:[Object(f.jsx)("div",{className:"comment-img-container",children:Object(f.jsx)(q,{img:n.image,className:"commentator-user-img"})}),Object(f.jsxs)("div",{className:"w100",children:[Object(f.jsx)("div",{className:"flex JC-SB comment-top",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"commentator-username",children:n.name}),Object(f.jsx)("span",{className:"comment-timestamp",children:A(n.time)})]})}),Object(f.jsxs)("div",{className:"comment-content",children:[Object(f.jsx)("p",{children:n.text}),Object(f.jsx)(w,{condition:n.images.length>0,children:Object(f.jsx)(R,{images:n.images})})]}),Object(f.jsxs)("div",{className:"flex JC-E comment-bot",children:[Object(f.jsx)(w,{condition:n.user_id===t.user_id,children:Object(f.jsx)("div",{onClick:function(){y()},children:Object(f.jsx)("i",{class:"fas fa-trash-alt"})})}),Object(f.jsxs)("div",{className:"flex likes",children:[Object(f.jsx)("span",{className:"noshow-com like",onClick:function(e){p.some((function(e){return e.user_id===t.user_id}))||n.user_id===t.user_id||(g((function(e){return[].concat(Object(S.a)(e),[{user_id:t.user_id}])})),C(0,0))},children:Object(f.jsx)("i",{class:"fas fa-thumbs-up ".concat(p.some((function(e){return e.user_id===t.user_id}))?"liked":"")})}),Object(f.jsx)("span",{className:"noshow-com reaction-number",children:p.length})]}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("span",{onClick:function(){n.user_id!==t.user_id&&u(!l)},children:Object(f.jsx)("i",{class:"fas fa-smile"})}),Object(f.jsxs)("span",{className:"reaction-number",children:[_.length,Object(f.jsx)(w,{condition:l,children:Object(f.jsx)(z,{reactions:_,fetchLike:C,postUserId:n.user_id,setReactions:k,setShowReactions:u})})]})]})]})]})]})},Z=Object(J.a)("div")(i||(i=Object(M.a)(["\n  background-image: url(./static/media/",");\n"])),(function(e){return e.img})),Y=function(e){var t=e.notiAmount,n=Object(o.useContext)($).dispatch,s=Object(o.useContext)(se).user;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("header",{className:"flex JC-SB header",children:[Object(f.jsx)(Z,{img:s.image,className:"header-user-img",onClick:function(){t>0&&n({type:"showNotifications"})},children:Object(f.jsx)(w,{condition:t>0,children:Object(f.jsx)("div",{className:"flex notis",children:Object(f.jsx)("div",{children:t})})})}),Object(f.jsx)("div",{className:"header-stars"})]}),Object(f.jsx)("section",{style:{position:"relative"},children:Object(f.jsxs)("section",{className:"top-btns flex JC-C",children:[Object(f.jsx)("div",{className:"menu-btn flex",onClick:function(){n({type:"showMenu"})},children:Object(f.jsx)("i",{class:"fas fa-bars"})}),Object(f.jsx)("div",{className:"write-post-btn flex",onClick:function(){n({type:"showWritePost"})},children:Object(f.jsx)("i",{class:"fas fa-pencil-alt"})}),Object(f.jsx)("div",{className:"search-btn flex",onClick:function(){n({type:"showSearch"})},children:Object(f.jsx)("i",{class:"fas fa-search"})})]})})]})},Q=Object(J.a)("div")(r||(r=Object(M.a)(["\n  background-image: url(./static/media/",");\n"])),(function(e){return e.img})),X=function(e){var t=e.posts,n=e.setPosts,s=e.fetchCertainPosts,c=e.post,a=e.setPostFilter,i=(e.setPage,e.setChosenPost,Object(o.useContext)($).dispatch,Object(o.useContext)(se).user),r=Object(o.useState)(!1),l=Object(m.a)(r,2),u=l[0],j=l[1],d=Object(o.useState)(!1),p=Object(m.a)(d,2),O=p[0],g=(p[1],Object(o.useState)(!1)),v=Object(m.a)(g,2),N=(v[0],v[1],Object(o.useState)(c.reactions.filter((function(e){return"0"===e.type&&e.post_id})))),_=Object(m.a)(N,2),k=_[0],C=_[1],y=Object(o.useState)(c.reactions.filter((function(e){return"1"===e.type&&e.post_id}))),F=Object(m.a)(y,2),W=F[0],L=F[1],D=function(){var e=Object(b.a)(h.a.mark((function e(s,a){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/reaction/create_reaction",{post_id:c.post.post_id,user_id:i.user_id,type:s,comment_id:"null",reaction:a,hashtags:c.hashtags});case 2:return r=e.sent,o=t.map((function(e){return e.post.post_id===c.post.post_id?Object(H.a)(Object(H.a)({},e),{},{reactions:[].concat(Object(S.a)(e.reactions),[r[0]])}):e})),n(o),e.next=7,x("/notification/create_notification",{time:P(),post_id:c.post.post_id,comment_id:"null",type:0,notiUsers:[c.post.user_id],origin:c.post.post_id,post_user:c.post.user_id});case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return O?Object(f.jsx)("h3",{children:"loading .."}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("section",{className:"flex single-post ok",children:[Object(f.jsx)("div",{className:"author-img-container ok",children:Object(f.jsx)(Q,{img:c.user.image,className:"author-img ok"})}),Object(f.jsxs)("div",{className:"w100 ok",children:[Object(f.jsxs)("div",{className:"flex JC-SB post-top ok",children:[Object(f.jsxs)("div",{className:"".concat(c.user.name.length>13?"flex FD-C":""," ok"),children:[Object(f.jsx)("span",{className:"author-username ok",children:c.user.name}),Object(f.jsx)("span",{className:"post-timestamp ok",children:A(c.post.time)})]}),Object(f.jsxs)("div",{className:"flex noshow-com likes ".concat(k.some((function(e){return e.user_id===i.user_id}))?"liked":""),children:[Object(f.jsx)("span",{className:"noshow-com likes-number",children:k.length}),Object(f.jsx)("span",{className:"noshow-com like",onClick:function(e){k.some((function(e){return e.user_id===i.user_id}))||c.post.user_id===i.user_id||(C((function(e){return[].concat(Object(S.a)(e),[{user_id:i.user_id}])})),D(0,0))},children:Object(f.jsx)("i",{class:"fas fa-thumbs-up \n                  \n                  "})})]})]}),Object(f.jsxs)("div",{className:"post-content ok",children:[Object(f.jsx)("p",{className:"post-text-content ok",children:c.post.text}),Object(f.jsx)(w,{condition:c.images.length>0,children:Object(f.jsx)(R,{images:c.images})})]}),Object(f.jsxs)("div",{className:"flex JC-SB post-bot ok",children:[Object(f.jsx)("div",{className:"flex FW-wrap ok",children:c.hashtags.map((function(e){return Object(f.jsx)("span",{onClick:function(){a(e.content),s(e.content.slice(1))},className:"noshow-com post-hashtag ".concat(e.searched?"searched":""),children:e.content})}))}),Object(f.jsxs)("div",{className:"flex ok",children:[Object(f.jsx)("span",{className:"noshow-com ok",children:Object(f.jsx)("i",{class:"fas fa-comment ok"})}),Object(f.jsx)("span",{className:"comment-number ok",children:c.comments.length}),Object(f.jsx)("span",{className:"noshow-com",onClick:function(){return j(!u)},children:Object(f.jsx)("i",{className:"fas fa-smile noshow-com"})}),Object(f.jsxs)("span",{className:"reaction-number",children:[W.length,Object(f.jsx)(w,{condition:u,children:Object(f.jsx)(z,{postUserId:c.post.user_id,reactions:W,setReactions:L,fetchLike:D,setShowReactions:j})})]})]})]})]})]})})},$=Object(o.createContext)(null),ee=function(e,t){switch(t.type){case"showPosts":return{showPosts:!0,showMenu:!1,showSearch:!1,showPostView:!1,showWritePost:!1,showWriteComment:!1};case"showMenu":return{showPosts:!1,showMenu:!0,showSearch:!1,showPostView:!1,showWritePost:!1,showWriteComment:!1};case"showSearch":return{showPosts:!1,showMenu:!1,showSearch:!0,showPostView:!1,showWritePost:!1,showWriteComment:!1};case"showPostView":return{showPosts:!1,showMenu:!1,showSearch:!1,showPostView:!0,showWritePost:!1,showWriteComment:!1};case"showWritePost":return{showPosts:!1,showMenu:!1,showSearch:!1,showPostView:!1,showWritePost:!0,showWriteComment:!1};case"showWriteComment":return{showPosts:!1,showMenu:!1,showSearch:!1,showPostView:!1,showWritePost:!1,showWriteComment:!0};case"showNotifications":return{showPosts:!1,showMenu:!1,showSearch:!1,showPostView:!1,showWritePost:!1,showWriteComment:!1,showNotifications:!0}}},te=function(e){var t=e.setLoggedIn,n=e.theme,s=e.setTheme,c=Object(o.useContext)(se).user,a=Object(o.useReducer)(ee,{showPosts:!0,showMenu:!1,showSearch:!1,showPostView:!1,showWritePost:!1,showWriteComment:!1,showNotifications:!1}),i=Object(m.a)(a,2),r=i[0],l=i[1],u=Object(o.useState)(0),j=Object(m.a)(u,2),d=j[0],p=j[1],x=Object(o.useState)(!1),g=Object(m.a)(x,2),v=g[0],N=g[1],_=Object(o.useState)([]),k=Object(m.a)(_,2),C=k[0],S=k[1],y=Object(o.useState)(null),P=Object(m.a)(y,2),D=P[0],M=P[1],A=Object(o.useState)(null),J=Object(m.a)(A,2),B=J[0],U=J[1],H=Object(o.useState)([]),z=Object(m.a)(H,2),E=z[0],R=z[1],q=Object(o.useState)([]),K=Object(m.a)(q,2),Z=K[0],Q=K[1],te=Object(o.useState)([]),ne=Object(m.a)(te,2),ce=ne[0],ae=ne[1],ie=Object(o.useState)(!0),re=Object(m.a)(ie,2),oe=re[0],le=re[1],ue=Object(o.useState)(!1),je=Object(m.a)(ue,2),de=je[0],he=je[1],be=Object(o.useState)(!1),me=Object(m.a)(be,2),pe=me[0],Oe=me[1],xe=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),n=new AbortController,e.next=4,O("/post/get_certain_posts_data/?input=".concat(t,"&page=",0),n.signal);case 4:return s=e.sent,S(s[0].posts),s[1].nextPage?N(!0):N(!1),he(!1),e.abrupt("return",(function(){return n.abort()}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),e.next=3,O("/post/get_posts_data/?page=".concat(d),t);case 3:n=e.sent,S(n[0].posts),n[1].nextPage?N(!0):N(!1),he(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var s,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new AbortController,!B){e.next=7;break}return e.next=4,O("/post/get_certain_posts_data/?input=".concat(t,"&page=").concat(n),s.signal);case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,O("/post/get_posts_data/?page=".concat(n),s.signal);case 9:c=e.sent;case 10:return a=C.concat(c[0].posts),S(a),c[1].nextPage?N(!0):N(!1),Oe(!1),e.abrupt("return",(function(){return s.abort()}));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/hashtag/get_user_main_hashtags/?user_id=".concat(c.user_id),t);case 2:n=e.sent,R(n.main_hashtags),Q(n.fav_hashtags);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/notification/get_user_notifications/?user=".concat(c.user_id),t);case 2:n=e.sent,ae(n.notifications);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(o.useCallback)(Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,we(t.signal);case 3:return e.next=5,ve(t.signal);case 5:return e.next=7,fe(t.signal);case 7:return le(!1),e.abrupt("return",(function(){return t.abort()}));case 9:case"end":return e.stop()}}),e)}))),[]);return Object(o.useEffect)(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:case"end":return e.stop()}}),e)}))),[Ne]),oe?Object(f.jsx)(F,{color:"orange",size:"big"}):Object(f.jsxs)($.Provider,{value:{showState:r,dispatch:l},children:[Object(f.jsxs)(w,{condition:r.showPosts,children:[Object(f.jsx)(Y,{notiAmount:ce.length}),Object(f.jsxs)("section",{className:"container",children:[Object(f.jsx)("div",{className:"flex JC-SB pad-1 con-top",children:Object(f.jsx)("div",{className:"flex FW-wrap hashtags-filter",children:Object(f.jsx)(w,{condition:B,children:Object(f.jsxs)("div",{className:"hashtag-box grey",children:[B," ",Object(f.jsx)("span",{className:"hashtag-delete",onClick:function(){var e=new AbortController;return U(null),fe(e.signal),function(){return e.abort()}},children:Object(f.jsx)("i",{class:"fas fa-times"})})]})})})}),Object(f.jsxs)("div",{className:"posts",children:[Object(f.jsx)(w,{condition:de,children:Object(f.jsx)(F,{color:"green",size:"medium"})}),Object(f.jsxs)(w,{condition:!de,children:[Object(f.jsx)("div",{className:"gade"}),C.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{className:"post-hr"}),Object(f.jsx)("div",{className:"pad-1 ".concat(t+1===C.length?"last":""),onClick:function(t){t.target.classList.value.includes("ok")&&(M(e),l({type:"showPostView"}))},children:Object(f.jsx)(X,{posts:C,setPosts:S,post:e,fetchCertainPosts:xe,setPostFilter:U,setPage:p,setChosenPost:M})},t)]})})),Object(f.jsx)(w,{condition:v&&!pe,children:Object(f.jsx)("div",{className:"pad-1 show-more-btn",onClick:function(e){Oe(!0),p(d+1),ge(B?B.slice(1):null,d+1)},children:"Visa fler"})}),Object(f.jsx)(w,{condition:pe,children:Object(f.jsx)(F,{color:"green",size:"small"})})]})]})]})]}),Object(f.jsx)(w,{condition:r.showWritePost,children:Object(f.jsx)(W,{setPosts:S,mainHashtags:E,favHashtags:Z})}),Object(f.jsx)(w,{condition:r.showSearch,children:Object(f.jsx)(L,{mainHashtags:E,favHashtags:Z,fetchCertainPosts:xe,setPostFilter:U,setPostsLoading:he})}),Object(f.jsx)(w,{condition:r.showMenu,children:Object(f.jsx)(I,{setLoggedIn:t,theme:n,setTheme:s})}),Object(f.jsx)(w,{condition:r.showPostView,children:Object(f.jsx)(G,{posts:C,setPosts:S,post:D,setChosenPost:M})}),Object(f.jsx)(w,{condition:r.showWriteComment,children:Object(f.jsx)(T,{chosenPost:D,setChosenPost:M})}),Object(f.jsx)(w,{condition:r.showNotifications,children:Object(f.jsx)(V,{notifications:ce,setNotifications:ae,setChosenPost:M})})]})},ne=740,se=Object(o.createContext)(null),ce=function(){var e=Object(o.useState)(null),t=Object(m.a)(e,2),n=t[0],s=t[1],c=Object(o.useState)(0),a=Object(m.a)(c,2),i=a[0],r=a[1],l=Object(o.useState)(!1),u=Object(m.a)(l,2),j=u[0],d=u[1],p=Object(o.useState)(window.innerWidth),x=Object(m.a)(p,2),g=x[0],v=x[1],N=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/user/is_loggedin",t);case 2:(n=e.sent).fail?d(!1):(s(n.user),r(n.user.theme),d(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,e.next=3,N(t.signal);case 3:return e.abrupt("return",(function(){return t.abort()}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(o.useEffect)((function(){var e=window.addEventListener("resize",(function(){return v(window.innerWidth)}));return window.removeEventListener("resize",e)}),[]),Object(f.jsx)("div",{className:"App ".concat(0===i?"light":"dark"," ").concat(g>=ne?"DT":""," ").concat(j?"":"home-p"),children:Object(f.jsx)("section",{className:"main-back",children:Object(f.jsxs)(se.Provider,{value:{user:n},children:[Object(f.jsx)(w,{condition:!j,children:Object(f.jsx)(C,{setLoggedIn:d,theme:i,setTheme:r,setUser:s})}),Object(f.jsx)(w,{condition:j,children:Object(f.jsx)(te,{setLoggedIn:d,theme:i,setTheme:r})})]})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};j.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(ce,{})}),document.getElementById("root")),ae()}},[[42,1,2]]]);